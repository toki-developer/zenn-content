---
title: "React Native (Expo) の個人開発で得られた知見"
emoji: "🚀"
type: "tech"
topics: ["reactnative", "expo", "ios", "個人開発"]
published: true
published_at: 2025-12-16 06:00
---

## はじめに：React Nativeでのアプリ開発

普段は業務でReactを書いています。
React Nativeやスマートフォンアプリ開発の学習を目的として、シンプルな習慣管理アプリを個人開発し、App Storeでリリースしてみました。
この記事では、本アプリを開発・リリースする過程で得た、React Native (Expo) に関する知見をメモとして共有します。

## アプリについて軽く紹介

開発したのはウィジェットからの操作に特化した手軽な習慣アプリです。
- 無料で習慣を無制限に作成可能
- 余計な機能がない、シンプルな習慣設定
- ウィジェットから直接進捗を更新（ +/- 両方可能）
- ウィジェットから他アプリの起動と習慣の記録を同時に実行可能
(この機能でFeedlyを読むのを習慣にしてます)

https://apps.apple.com/us/app/%E3%82%A6%E3%82%A3%E3%82%B8%E3%82%A7%E3%83%83%E3%83%88%E3%81%A7%E7%BF%92%E6%85%A3/id6754188081

## コンポーネントライブラリについて

### UIライブラリの採用と学び

Web開発の経験から「UIライブラリを導入した方が開発効率もUXも向上する」と考え、いくつか候補を調べた上で、当時人気があり使いやすそうだと感じた [Tamagui](https://tamagui.dev/) を導入しました。

しかし、開発を進める中で「アプリのUIはOS標準のデザインに寄せた方が、ユーザーにとって自然で使いやすいのではないか」と考えるようになりました。そして、モーダルやSwitchといった基本的なコンポーネントはReact NativeやExpoに標準で十分に用意されていることに気づきました。この経験から、次回開発する際は、別途UIライブラリを導入するのはやめようと決めています。

また、別のライブラリと組み合わせた際にUIライブラリが原因でうまく動作しないケースもあり、React NativeのUIライブラリはまだ成熟しきっていない部分があるという印象を受けました。

ちなみに、Expoの共同創業者であるEvan Bacon氏も「ネイティブプラットフォームこそが最高のコンポーネントライブラリだ」という趣旨のポストをしています。

> The best component library for any platform is the platform itself.
> （[Evan Bacon氏のXポストより](https://x.com/Baconbrix/status/1987257624451293287?s=20)）

UIライブラリが強力な選択肢となる場面は多いと思いますが、特別なこだわりがなかった自分にとっては、まずは標準コンポーネントで進めるのが合っていたようです。

### モーダル実装の最適解はExpo Router

コンポーネントの中でも、特にモーダル実装では少し試行錯誤がありました。
当初、ページとして機能が分かれるようなモーダルにはExpo Routerを、ページの機能の一部として少し情報を表示するようなモーダルには`Tamagui`の`Dialog`や`React Native`標準の`Modal`を、と使い分けようとしました。後者はページ内のStateで表示を管理する想定でした。

しかし、他のライブラリと干渉したり、ナビゲーション周りで予期せぬ挙動を示したりと、かえって実装が複雑になる場面がありました。

最終的に、ページの機能の一部として提供するようなモーダルでさえも、Expo Routerのモーダル機能を使って実装する方が、結果的にシンプルで管理しやすく、そして安定しました。

もしモーダル間で状態を共有したい場合は、Jotaiなどのグローバルな状態管理ライブラリを導入し、「Reactで解決できることはReact側に寄せる」という方針を取るのが良いと感じました。

ちなみに、Expo Router のモーダルは OS の標準的なモーダル表示（presentation）に沿った形でナビゲーションスタックに統合されて動作しますが、React Native 標準の Modal は、既存の画面の上にコンテンツを重ねて表示するオーバーレイに近い仕組みになっているみたいです。

自分の実装パターンと違いますが、Expoドキュメントでは、ほとんどのユースケースでReact NativeのModalを使えると書かれてました。

https://docs.expo.dev/router/advanced/modals/

## Reactエンジニアから見たReact Native開発

### 活かせるReactの知識と開発の進め方

Reactの経験があれば、想像以上に「ほとんどReactのまま」という感覚で開発を進められました。
`Text`や`View`といった基本的なコンポーネントの使い方さえ覚えれば、あとは特に事前に学習しなくても、やりたいことが出てきた時にその都度調べる、という進め方で十分キャッチアップ可能だと感じます。

ただし、スタイリングはCSSと記述方法が異なるため少し癖があります。また、ブラウザの開発者ツールのように手軽に要素を調査する手段がないため、レイアウトのデバッグは少し大変に感じるかもしれません。

開発サイクルについては、`npm run ios`でシミュレータを起動すれば、ホットリロードで修正が即座に反映されるため、Webフロントエンド開発と変わらない快適さでした。
ネイティブコード（Swift/Kotlin）を修正した場合でも、再度`npm run ios`を実行するだけで反映されるので、開発体験が損なわれることはありません。

ただ、ネイティブコード側のログはXcodeから確認する必要があり、Web開発のコンソールのように手軽に見られない点は、少し不便に感じました。

### ネイティブ知識との付き合い方

開発の大部分はReactの知識で進められますが、ウィジェットのようにOS固有の機能を実装する場面では、ネイティブ言語での実装が求められます。

今回のアプリでもウィジェットはSwiftで実装しました。さらに、アプリ本体（React Native）からそのウィジェットを更新するために、ネイティブ側を呼び出すSwiftコードも追加しています。

ウィジェット（Swift）とアプリ本体（TypeScript）で同じロジックを使いたい場合、SwiftとTypeScriptではコードを共通化できません。そのため、同じロジックをそれぞれの言語で二重に実装する必要がありました。

## アプリのリリースについて

### App Storeへのリリース手順

大まかなリリースフローは以下の通りです。

1.  Apple Developer Programに登録
2.  アプリをビルドし、TestFlightにアップロード
3.  App Store Connectで必要情報を入力
4.  TestFlightからリリースするビルドを選択し、審査に提出

今回は課金機能などがないシンプルなアプリだったため、申請で特に難しい項目はありませんでした。

### ビルドとTestFlightへのアップロード

ビルドとアップロードには、主にEAS (Expo Application Services) を使う方法と、ローカル環境でビルドして自力でアップロードする方法の2つがあります。

EASの無料プランには月15回というビルド制限があり、今回は制限に達してしまったため、途中からローカルビルドに切り替えました。

**個人開発でビルドのためだけにEASに課金する必要はない**というのが個人的な結論です。ローカルビルドは「難しいもの」という先入観がありましたが、実際に試すとドキュメントも整備されており、それほど難しくありませんでした。

#### EASを利用する場合

EASを使うと、ビルドから提出までのプロセスが大幅に簡略化されます。
以下のコマンドを実行するだけで、TestFlightへのアップロードが完了します。

- `eas build --platform ios`
- `eas submit --platform ios`

証明書やプロビジョニングプロファイルの管理といった、ネイティブアプリ開発の初回リリースでつまずきがちな部分をEASが抽象化してくれるため、非常にスムーズです。

#### ローカルビルドを行う場合

EASを使わずにローカル環境でビルドとリリースを行う手順も、Expoの公式ドキュメントに詳しく記載されています。

https://docs.expo.dev/guides/local-app-production/

大まかな流れは以下の通りです。

1.  `app.json` などで `version` を更新
2.  `expo prebuild --platform ios --clean` を実行
3.  Xcodeで `ios` ディレクトリを開く
4.  プロジェクト設定の「Signing & Capabilities」から自身のTeamを選択 ※1
5.  メニューバーの「Product > Scheme > Edit Scheme」で、Build Configurationを「Release」に変更
6.  メニューバーの「Product > Archive」をクリックしてビルドを実行
7.  ビルド完了後、表示される手順に従いTestFlightにアップロード



:::message
※1 

一度 EAS を利用していれば、必要な証明書やプロビジョニングプロファイルはすでに作成済みのはずです。
これらを EAS からダウンロードしておけば、Xcode の「Automatically manage signing」を有効にしたままでも問題なくビルドできると思います（記憶が曖昧ですが）。

もしそれでうまくいかなければ、今回の要件に合わせてプロビジョニングプロファイルを自分で作成し、手動で設定する必要があります。
:::


### App Store Connect
#### スクリーンショット作成

App Store Connectに提出するスクリーンショットは、Figmaのコミュニティで公開されているテンプレートを使うと非常に効率的でした。

- https://qiita.com/SNQ-2001/items/72c0bdb4d44b003c4cd2

様々なデバイスサイズのフレームが用意されており、シミュレータで撮ったスクリーンショットを配置し、文言を入れるだけで完成します。画像のトリミングなども不要で、とても簡単でした。

## まとめ

React Native (Expo) を使ったアプリ開発は、Reactエンジニアにとって非常に親しみやすい一方、ネイティブ機能の奥深さにも触れられる面白い体験でした。
これからもこのアプリを少しずつ育てながら、React Nativeへの理解をさらに深めていきたいと思います。