---
title: "React Native (Expo)ã§ã®ç”»é¢é·ç§»ã„ã‚ã„ã‚ã¾ã¨ã‚"
emoji: "ğŸ’«"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["reactnative", "expo", "typescript"]
published: true
---

## ã¯ã˜ã‚ã«

æœ€è¿‘ Expo ã«å…¥é–€ã—ã¾ã—ãŸï¼  
ã“ã®è¨˜äº‹ã§ã¯ [Expo Router](https://docs.expo.dev/versions/latest/sdk/router/) ã‚„ [React Navigation](https://reactnavigation.org/) ã§ã®ç”»é¢é·ç§»ã®ã„ãã¤ã‹ã‚’ Gif ç”»åƒã¨å…±ã«ç´¹ä»‹ã—ã¾ã™ï¼

:::message  
IOS Simulator ã®ç”»é¢éŒ²ç”»æ©Ÿèƒ½ã‚’ä½¿ã£ã¦éŒ²ç”»ã—ã¦ãŠã‚Šã¾ã™ã€‚
Gif ç”»åƒã¯ IOS ã®ã¿ã§ã™ã€‚  
:::

:::message  
Expo Router ã¯
ãƒ»Expo ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚  
ãƒ»React Navigation ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã§ã‚ã‚Šã€å¤šãã®æ¦‚å¿µãŒåŒã˜ã§ã™ã€‚ [å‚è€ƒ](https://docs.expo.dev/router/migrate/from-react-navigation/)  
ãƒ»ç´°ã‹ã„ä»•æ§˜ã‚’èª¿ã¹ã‚‹æ™‚ã«ã¯ã€ŒReact Navigationã€ã§æ¤œç´¢ã—ãŸæ–¹ãŒè‰¯ã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
ã€€(expo-router ã‹ã‚‰ import ã—ã¦ã¦ã‚‚)

:::

## å¤–éƒ¨ãƒªãƒ³ã‚¯

ä»¥ä¸‹ã‹ã‚‰ä¸€è¦§ã§ã‚‚ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ï¼([Tamagui](https://tamagui.dev/) ã‚’è©¦ã—ãŸã‹ã£ãŸã ã‘ ğŸ˜…)
https://toki-dev.vercel.app/tools/expo-navigation-gallery

ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã™ï¼
https://github.com/toki-developer/expo-pagination-example

## Stack

![](/images/expo-navigations-gif/stack.gif)

```tsx
import { Stack } from "expo-router";

export default function RootLayout() {
  return (
    <Stack>
      <Stack.Screen name="(tabs)" />
      <Stack.Screen
        name="stack"
        options={{ headerBackButtonDisplayMode: "minimal" }}
      />
    </Stack>
  );
}
```

https://docs.expo.dev/router/advanced/stack/

## Tab

![](/images/expo-navigations-gif/tab.gif)

```tsx
import { Tabs } from "expo-router";

export default function TabLayout() {
  return (
    <Tabs>
      <Tabs.Screen name="index" />
      <Tabs.Screen name="explore" />
    </Tabs>
  );
}
```

https://docs.expo.dev/router/advanced/tabs/

## Modal

![](/images/expo-navigations-gif/modal.gif)

```tsx
import { Stack } from "expo-router";

export default function RootLayout() {
  return (
    <Stack>
      <Stack.Screen name="(tabs)" />
      <Stack.Screen name="modal" options={{ presentation: "modal" }} />
    </Stack>
  );
}
```

https://docs.expo.dev/router/advanced/modals/

## Drawer

![](/images/expo-navigations-gif/drawer.gif)

```tsx
import { GestureHandlerRootView } from "react-native-gesture-handler";
import { Drawer } from "expo-router/drawer";

export default function DrawerLayout() {
  return (
    <GestureHandlerRootView style={{ flex: 1 }}>
      <Drawer>
        <Drawer.Screen name="drawer1" />
        <Drawer.Screen name="drawer2" />
      </Drawer>
    </GestureHandlerRootView>
  );
}
```

:::details ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹å ´åˆ

```tsx
import { GestureHandlerRootView } from "react-native-gesture-handler";
import { Drawer } from "expo-router/drawer";
import {
  DrawerContentComponentProps,
  DrawerContentScrollView,
  DrawerItem,
  DrawerItemList,
} from "@react-navigation/drawer";
import { router } from "expo-router";
import Feather from "@expo/vector-icons/Feather";
import { Text } from "react-native";

function CustomDrawerContent(props: DrawerContentComponentProps) {
  return (
    <DrawerContentScrollView>
      <Text style={{ textAlign: "center", padding: 16 }}>Hello Drawer</Text>
      <DrawerItemList {...props} />
      <DrawerItem
        label="Stack"
        onPress={() => router.push({ pathname: "/stack" })}
        icon={(props) => <Feather name="smile" size={24} color={props.color} />}
      />
    </DrawerContentScrollView>
  );
}

export default function CustomDrawerLayout() {
  return (
    <GestureHandlerRootView style={{ flex: 1 }}>
      <Drawer drawerContent={CustomDrawerContent}>
        <Drawer.Screen
          name="custom-drawer1"
          options={{
            title: "Drawer 1",
            drawerIcon: (props) => (
              <Feather name="frown" size={24} color={props.color} />
            ),
          }}
        />
        <Drawer.Screen
          name="custom-drawer2"
          options={{
            drawerIcon: (props) => (
              <Feather name="meh" size={24} color={props.color} />
            ),
          }}
        />
      </Drawer>
    </GestureHandlerRootView>
  );
}
```

:::

https://docs.expo.dev/router/advanced/drawer/
https://reactnavigation.org/docs/drawer-navigator/

## æ¤œç´¢

![](/images/expo-navigations-gif/search.gif)

```tsx
import { router, Stack } from "expo-router";

export default function SearchLayout() {
  return (
    <Stack
      screenOptions={{
        headerSearchBarOptions: {
          placeholder: "æ¤œç´¢ã™ã‚‹",
          inputType: "text",
          onSearchButtonPress(e) {
            router.push({
              pathname: "/search-result",
              params: { q: e.nativeEvent.text },
            });
          },
        },
      }}
    >
      <Stack.Screen name="search" />
      <Stack.Screen name="search-result" />
    </Stack>
  );
}
```

https://reactnavigation.org/docs/native-stack-navigator/#headersearchbaroptions

## Material Top Tab

![](/images/expo-navigations-gif/top-tab.gif)

```tsx
import {
  createMaterialTopTabNavigator,
  MaterialTopTabNavigationEventMap,
  MaterialTopTabNavigationOptions,
} from "@react-navigation/material-top-tabs";
import { ParamListBase, TabNavigationState } from "@react-navigation/native";
import { withLayoutContext } from "expo-router";
import { SafeAreaView } from "react-native";

const { Navigator } = createMaterialTopTabNavigator();

const MaterialTopTabs = withLayoutContext<
  MaterialTopTabNavigationOptions,
  typeof Navigator,
  TabNavigationState<ParamListBase>,
  MaterialTopTabNavigationEventMap
>(Navigator);

export default function TopTabLayout() {
  return (
    <SafeAreaView style={{ flex: 1 }}>
      <MaterialTopTabs>
        <MaterialTopTabs.Screen name="top-tab1" />
        <MaterialTopTabs.Screen name="top-tab2" />
      </MaterialTopTabs>
    </SafeAreaView>
  );
}
```

https://reactnavigation.org/docs/material-top-tab-navigator/
https://reactnativepro.dev/posts/expo-router-top-tabs

## ãŠã‚ã‚Šã«

ã‚¿ãƒ–ã‚„ãƒ‰ãƒ­ãƒ¯ãƒ¼ãªã©ãŒã™ã”ãç°¡å˜ã«å®Ÿè£…ã§ãã¦ã„ã„æ„Ÿã˜ã§ã™ï¼  
æ™®æ®µã¯ web ã‚’é–‹ç™ºã—ã¦ã„ã‚‹ã®ã§ã€ãƒ¢ãƒ¼ãƒ€ãƒ«(ãƒšãƒ¼ã‚¸ã‚·ãƒ¼ãƒˆ)ãŒåˆ¥ãƒšãƒ¼ã‚¸ãªã®ã¯æ„å¤–ã§ã—ãŸï¼

è‰²å¤‰æ›´ãªã©ã‚¹ã‚¿ã‚¤ãƒ«ã®èª¿æ•´ã‚‚å¯èƒ½ã§ã™ï¼  
ã“ã‚Œã‹ã‚‰ã€ä»–ã® option ã‚„ä»–ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã‚‚è©¦ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ï¼  
(æ°—ãŒå‘ã„ãŸã‚‰ã“ã“ã«ã‚‚è¿½è¨˜ã—ã¾ã™ m)
